--- 
title: Ch.13 簡易計算機
tags:
 - JavaScript
prev: ./ch12
next: ./ch14
---
製作簡易計算機，練習事件  
<!-- more -->
## 計算機
:::danger
`eval()` 是非常危險的語法，使用時須特別注意
:::

::: demo [vanilla]
```html
<html>
	<div id="content-out">
    <div id="content-in">
			<table>
				<tr>
					<td colspan="4" id="input">0</td>
				</tr>
				<tr>
					<td>C</td>
					<td>/</td>
					<td>*</td>
					<td>-</td>
				</tr>
				<tr>
					<td>7</td>
					<td>8</td>
					<td>9</td>
					<td rowspan="2">+</td>
				</tr>
				<tr>
					<td>4</td>
					<td>5</td>
					<td>6</td>
				</tr>
				<tr>
					<td>1</td>
					<td>2</td>
					<td>3</td>
					<td rowspan="2">=</td>
				</tr>
				<tr>
					<td colspan="2">0</td>
					<td>.</td>
				</tr>
			</table>
    </div>
	</div>
</html>
<script>
const input = document.getElementById("input")
const td = document.querySelectorAll("td:not(#input)")

for (let i = 0; i < td.length; i++) {
	td[i].onclick = function () {
		console.log(this.innerText)
		if (this.innerText == "=") {
			input.innerText = eval(input.innerText)
		} else if (this.innerText == "C") {
			input.innerText = "0"
		} else {
			if(input.innerText == "0"){
				input.innerText = this.innerText
			}
			else{
				input.insertAdjacentHTML("beforeend", this.innerText)
			}
		}
	}
}
document.onkeydown = (event) => {
	if (event.key === 'Enter') input.innerText = eval(input.innerText)
	else if (!isNaN(parseInt(event.key)) || event.key === '+' || event.key === '-' || event.key === '*' || event.key === '/' || event.key === '.') {
		if (input.innerText == "0") {
			input.innerText = event.key
		} else {
			input.insertAdjacentHTML("beforeend", event.key)
		}
	}
}
</script>
<style>
</style>
```
:::

:::warning 作業
美化你的計算機，或加入更多的功能  
:::